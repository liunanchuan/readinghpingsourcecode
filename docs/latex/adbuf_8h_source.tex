\hypertarget{adbuf_8h_source}{}\doxysection{adbuf.\+h}
\mbox{\hyperlink{adbuf_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/* adbuf.h -\/ header file for adbuf.c}}
\DoxyCodeLine{2 \textcolor{comment}{ *}}
\DoxyCodeLine{3 \textcolor{comment}{ * Copyright(C) 2001-\/2002 Salvatore Sanfilippo <antirez@invece.org>}}
\DoxyCodeLine{4 \textcolor{comment}{ * All rights reserved.}}
\DoxyCodeLine{5 \textcolor{comment}{ * See the LICENSE file for COPYRIGHT and PERMISSION notice */}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{comment}{/* \$Id: adbuf.h,v 1.1.1.1 2003/08/31 17:24:00 antirez Exp \$ */}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifndef \_ADBUF\_H}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#define \_ADBUF\_H}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <sys/types.h>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{struct }\mbox{\hyperlink{structadbuf}{adbuf}} \{}
\DoxyCodeLine{15     \textcolor{keywordtype}{char} *\mbox{\hyperlink{structadbuf_a1fe855c208bc17a51a4d34fefdb2d5b1}{buf}};}
\DoxyCodeLine{16     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structadbuf_a854352f53b148adc24983a58a1866d66}{size}};    \textcolor{comment}{/* total buffer size */}}
\DoxyCodeLine{17     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structadbuf_a951236a0702535ba18ba51db69428658}{left}};    \textcolor{comment}{/* unused buffer size */}}
\DoxyCodeLine{18     \textcolor{comment}{/* the size of data stored is just size-\/left */}}
\DoxyCodeLine{19 \};}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define ADBUF\_INCR  256 }\textcolor{comment}{/* note that this MUST BE >= 1 */}\textcolor{preprocessor}{}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define adbuf\_used(b)   ((b)-\/>size -\/ (b)-\/>left)}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define adbuf\_ptr(b)    ((b)-\/>buf)}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{comment}{/* Rawly create an adbuf object. 's' is supposed to be some heap}}
\DoxyCodeLine{26 \textcolor{comment}{ * memory already allocated, with some nul-\/term string inside */}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define adbuf\_from\_heapstring(b,s) \(\backslash\)}}
\DoxyCodeLine{28 \textcolor{preprocessor}{    do \{ b-\/>buf = s; b-\/>left = 0; b-\/>size = strlen(s); \} while(0)}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a4dc971542b7ecf05b4bb6aa9ce4730a6}{adbuf\_init}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{31 \textcolor{keywordtype}{void} \mbox{\hyperlink{adbuf_8h_a19302597670685055c4d1d27a427a713}{adbuf\_free}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{32 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a959344d986042c77accfa5d31a6b85bc}{adbuf\_reset}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{33 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a61b3dab2f05bd8d830fed69810bd8dc7}{adbuf\_add}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{void} *data, \textcolor{keywordtype}{size\_t} len);}
\DoxyCodeLine{34 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a7fb35a5091978805949a39509e1b5bba}{adbuf\_addchar}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{int} c);}
\DoxyCodeLine{35 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a6e4cbc487a1a0a1c7b937ed6e9a395c6}{adbuf\_strcat}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{char} *\textcolor{keywordtype}{string});}
\DoxyCodeLine{36 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a45c741bd520f800beb2375f5527e6d1f}{adbuf\_cat}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *a, \textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{37 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a6bb71faa3048386b70ca4c8c88c92c37}{adbuf\_cut}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{globals_8h_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{38 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a71253da01bd44b96cfedd12c4dbf20f6}{adbuf\_ltrim}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{globals_8h_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{39 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_ac3a4ff9ac84f22002a84a537d01601d0}{adbuf\_rtrim}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{globals_8h_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{40 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a307f51a6ab10313ca2c545802bede9df}{adbuf\_add\_long}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{long} l);}
\DoxyCodeLine{41 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a73c1eee265cd01fbbe44852ba0281934}{adbuf\_add\_ulong}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} l);}
\DoxyCodeLine{42 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a43997359e0663c857fcaa7b5972f4c6c}{adbuf\_clone}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *src, \textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *\mbox{\hyperlink{waitpacket_8c_a601fda698b6f9f2342b169c8e250d2d3}{dst}});}
\DoxyCodeLine{43 \textcolor{keywordtype}{int} \mbox{\hyperlink{adbuf_8h_a08d6dfb73888a1aff2f0992f43fe36bf}{adbuf\_printf}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *\mbox{\hyperlink{waitpacket_8c_a601fda698b6f9f2342b169c8e250d2d3}{dst}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, ...);}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \_ADBUF\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
