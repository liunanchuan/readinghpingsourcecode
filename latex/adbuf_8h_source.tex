\hypertarget{adbuf_8h_source}{}\doxysection{adbuf.\+h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/* adbuf.h -\/ header file for adbuf.c}}
\DoxyCodeLine{2 \textcolor{comment}{ *}}
\DoxyCodeLine{3 \textcolor{comment}{ * Copyright(C) 2001-\/2002 Salvatore Sanfilippo <antirez@invece.org>}}
\DoxyCodeLine{4 \textcolor{comment}{ * All rights reserved.}}
\DoxyCodeLine{5 \textcolor{comment}{ * See the LICENSE file for COPYRIGHT and PERMISSION notice */}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{comment}{/* \$Id: adbuf.h,v 1.1.1.1 2003/08/31 17:24:00 antirez Exp \$ */}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifndef \_ADBUF\_H}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#define \_ADBUF\_H}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <sys/types.h>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{struct }\mbox{\hyperlink{structadbuf}{adbuf}} \{}
\DoxyCodeLine{15     \textcolor{keywordtype}{char} *buf;}
\DoxyCodeLine{16     \textcolor{keywordtype}{size\_t} size;    \textcolor{comment}{/* total buffer size */}}
\DoxyCodeLine{17     \textcolor{keywordtype}{size\_t} left;    \textcolor{comment}{/* unused buffer size */}}
\DoxyCodeLine{18     \textcolor{comment}{/* the size of data stored is just size-\/left */}}
\DoxyCodeLine{19 \};}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define ADBUF\_INCR  256 }\textcolor{comment}{/* note that this MUST BE >= 1 */}\textcolor{preprocessor}{}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define adbuf\_used(b)   ((b)-\/>size -\/ (b)-\/>left)}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define adbuf\_ptr(b)    ((b)-\/>buf)}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{comment}{/* Rawly create an adbuf object. 's' is supposed to be some heap}}
\DoxyCodeLine{26 \textcolor{comment}{ * memory already allocated, with some nul-\/term string inside */}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define adbuf\_from\_heapstring(b,s) \(\backslash\)}}
\DoxyCodeLine{28 \textcolor{preprocessor}{    do \{ b-\/>buf = s; b-\/>left = 0; b-\/>size = strlen(s); \} while(0)}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keywordtype}{int} adbuf\_init(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{31 \textcolor{keywordtype}{void} adbuf\_free(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{32 \textcolor{keywordtype}{int} adbuf\_reset(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{33 \textcolor{keywordtype}{int} adbuf\_add(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{void} *data, \textcolor{keywordtype}{size\_t} len);}
\DoxyCodeLine{34 \textcolor{keywordtype}{int} adbuf\_addchar(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{int} c);}
\DoxyCodeLine{35 \textcolor{keywordtype}{int} adbuf\_strcat(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{char} *\textcolor{keywordtype}{string});}
\DoxyCodeLine{36 \textcolor{keywordtype}{int} adbuf\_cat(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *a, \textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b);}
\DoxyCodeLine{37 \textcolor{keywordtype}{int} adbuf\_cut(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{38 \textcolor{keywordtype}{int} adbuf\_ltrim(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{39 \textcolor{keywordtype}{int} adbuf\_rtrim(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{40 \textcolor{keywordtype}{int} adbuf\_add\_long(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{long} l);}
\DoxyCodeLine{41 \textcolor{keywordtype}{int} adbuf\_add\_ulong(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *b, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} l);}
\DoxyCodeLine{42 \textcolor{keywordtype}{int} adbuf\_clone(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *src, \textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *dst);}
\DoxyCodeLine{43 \textcolor{keywordtype}{int} adbuf\_printf(\textcolor{keyword}{struct} \mbox{\hyperlink{structadbuf}{adbuf}} *dst, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, ...);}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \_ADBUF\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
